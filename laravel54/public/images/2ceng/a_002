define("util",function(){"use strict";return{throttle:function(n,e,t){var u,i,r,l=null,a=0;t||(t={});var o=function(){a=t.leading===!1?0:(new Date).getTime(),l=null,r=n.apply(u,i),l||(u=i=null)};return function(){var f=(new Date).getTime();a||t.leading!==!1||(a=f);var c=e-(f-a);return u=this,i=arguments,c<=0||c>e?(clearTimeout(l),l=null,a=f,r=n.apply(u,i),l||(u=i=null)):l||t.trailing===!1||(l=setTimeout(o,c)),r}},debounce:function(n,e,t){var u,i,r,l,a,o=function(){var f=(new Date).getTime()-l;f<e&&f>0?u=setTimeout(o,e-f):(u=null,t||(a=n.apply(r,i),u||(r=i=null)))};return function(){r=this,i=arguments,l=(new Date).getTime();var f=t&&!u;return u||(u=setTimeout(o,e)),f&&(a=n.apply(r,i),r=i=null),a}},indexOf:function(n,e){var t=n.length,u=Number(arguments[2])||0;for(u<0&&(u+=t);u<t;){if(u in n&&n[u]===e)return u;u++}if(0===t)return-1}}});define("masonry",function(t){"use strict";function i(t){$.extend(this,{$container:null,itemSelector:"",column:1,itemWidth:0,horizontalMargin:15,verticalMargin:15,onAfterRender:function(){}},t),this.init()}var e=t("util");return i.prototype={constructor:i,init:function(){var t=new Array(this.column);this.$items=this.$container.find(this.itemSelector),this.column=Math.min(this.$items.length,this.column);for(var i=0;i<this.column;i++)t[i]=this.$items[i].offsetTop+this.$items[i].offsetHeight;for(var n=0,s=this.$items.length;n<s;n++){var h=$(this.$items.get(n));if(this.itemWidth&&h.width(this.itemWidth),n>=this.column){var r=Math.min.apply(null,t),o=0;o=Array.prototype.indexOf?t.indexOf(r):e.indexOf(t,r),h.css({left:o*(this.itemWidth+this.horizontalMargin)+"px",top:r+this.verticalMargin+"px"}),t[o]+=h.get(0).offsetHeight+this.verticalMargin}else h.css({top:0,left:n%this.column*(this.itemWidth+this.horizontalMargin)+"px"})}this.$container.css({height:Math.max.apply(null,t)}),$.isFunction(this.onAfterRender)&&this.onAfterRender.call(this)}},i});define("carousel",function(){"use strict";function t(t){$.extend(this,{$container:null,itemSelector:null,itemWidth:0,activeClass:"active",startIndex:0,duration:500,switchType:"fade",delay:2e3,isAuto:!0,onBeforeSwitch:function(){},onAfterSwitch:function(){}},t),this.init()}return t.prototype={constructor:t,init:function(){this.initElements(),this.initEvent(),this.setCurrent(this.startIndex),this.isAuto&&this.start()},initElements:function(){switch(this.$items=this.$container.find(this.itemSelector),this.length=this.$items.length,this.switchType){case"fade":this.$items.css({opacity:0,zIndex:0,position:"absolute"});break;case"slide":var t=this.$items,i=$(t.get(0)).clone(),e=$(t.get(this.length-1)).clone();this.$container.append(i).prepend(e),this.$items=this.$container.find(this.itemSelector),this.$container.css({width:(this.length+2)*this.itemWidth,position:"absolute",top:0,left:-this.itemWidth})}return this},initEvent:function(){return this.$container.bind("mouseenter",$.proxy(this.stop,this)).bind("mouseleave",$.proxy(this.start,this)),this},setCurrent:function(t){return this.currentIndex=t,$(this.$items.removeClass(this.activeClass).get(t)).addClass(this.activeClass).css({opacity:1,zIndex:5}),this},getCurrent:function(){return this.currentIndex},switchTo:function(t){switch(this.switchType){case"fade":var i=this.$items,e=$(i.get(this.currentIndex));t>=this.length?t=0:t<=-1&&(t=this.length-1),$.isFunction(this.onBeforeSwitch)&&this.onBeforeSwitch.call(this,this.currentIndex,t);var s=this.currentIndex;i.each(function(t){var i=$(this);5===parseInt(i.css("zIndex"),10)&&t!==s&&i.fadeTo(0,0).css("zIndex","0")}),e.stop().fadeTo(this.duration,0,$.proxy(function(){e.css("zIndex","0")},this)),$(i.get(t)).stop().fadeTo(this.duration,1,$.proxy(function(){this.setCurrent(t),$.isFunction(this.onAfterSwitch)&&this.onAfterSwitch.call(this,this.currentIndex)},this));break;case"slide":var i=this.$items,e=$(i.get(this.currentIndex));$.isFunction(this.onBeforeSwitch)&&this.onBeforeSwitch.call(this,this.currentIndex,t),this.$container.animate({left:-(t+1)*this.itemWidth},this.duration,$.proxy(function(){t>=this.length?(t=0,this.$container.css("left",-this.itemWidth*(t+1))):t<=-1&&(t=this.length-1,this.$container.css("left",-this.itemWidth*(t+1))),this.setCurrent(t),$.isFunction(this.onAfterSwitch)&&this.onAfterSwitch.call(this,this.currentIndex)},this))}return this},switchToPrev:function(){var t=this.currentIndex-1;return this.switchTo(t),this},switchToNext:function(){var t=this.currentIndex+1;return this.switchTo(t),this},start:function(){return clearTimeout(this.autoTimer),this.autoTimer=setTimeout($.proxy(function(){this.switchToNext().start()},this),this.delay),this},stop:function(){return clearTimeout(this.autoTimer),this}},t});define("tab",function(){"use strict";function t(t){this.conf=$.extend({container:null,head:null,content:null,startAt:0,activeClass:"active",hash:!1,hoverToSwitch:!1,onBeforeSwitch:function(){},onAfterSwitch:function(){},onFirstShow:function(){}},t),this.index=void 0;var i=this.conf;this.$el=$(i.container),this.$head=i.head?$(i.head):this.$el.children(".mod_tab_head, .j_tab_head"),this.$headItems=this.$head.children(".mod_tab_head_item, .j_tab_head_item"),this.$content=i.content?$(i.content):this.$el.children(".mod_tab_content, .j_tab_content"),this.$contentItems=this.$content.children(".mod_tab_content_item, .j_tab_content_item"),this.tabLength=this.$headItems.length;for(var e=0,h=this.$headItems.length;e<h;e++)this.$headItems[e].hasShown=!1;this.init()}return t.prototype={constructor:t,init:function(){var t=this.conf,i=-1,e=window.location.hash;t.hash&&e.length>1?this.switchTo(e):("string"==typeof t.startAt?(this.$active=this.$headItems.filter(t.startAt),i=this.$active.length?this.$active.index():0):i="number"==typeof t.startAt?t.startAt:0,this.switchTo(i)),this.initEvent()},initEvent:function(){var t=this,i=(t.conf,"click");this.conf.hoverToSwitch&&(i="mouseenter"),this.$head.delegate(".mod_tab_head_item, .j_tab_head_item",i,function(){var i=$(this).index();return t.switchTo(i),!1})},switchTo:function(t){var i=this.conf;if(i.hash){var e;if("string"==typeof t&&(e=t.replace("#",""),this.$active=this.$headItems.filter("[data-hash$="+e+"]"),t=this.$active.index()),"number"==typeof t&&(e=this.$headItems.eq(t).attr("data-hash")),t===-1)return-1;window.location.hash=e}if(t=parseInt(t,10),t!==this.index)return this.index=t,"function"==typeof i.onBeforeSwitch&&i.onBeforeSwitch.call(this,t,this),this.$headItems.removeClass(i.activeClass).eq(t).addClass(i.activeClass),this.$contentItems.hide().eq(t).show(),"function"==typeof i.onAfterSwitch&&i.onAfterSwitch.call(this,t,this),this.$headItems[t].hasShown||"function"!=typeof i.onFirstShow||(i.onFirstShow.call(this,t,this),this.$headItems[t].hasShown=!0),this},switchToNext:function(){var t=this.index+1;return t>=this.tabLength&&(t=0),this.switchTo(t),this},switchToPrev:function(){var t=this.index+1;return t<=0&&(t=0),this.switchTo(t),this},destroy:function(){this.unbind(),this.$el.remove()},unbind:function(){return this.$head.undelegate(),this},setOptions:function(t){return $.extend(this.conf,t),this}},t});"use strict";define("cookie",function(){function e(e,n,t,o,r,i){if(arguments.length<=1)throw new Error("Parameters can not be less than 1");if(t){var u=null;"number"==typeof t?(u=new Date,u.setTime(u.getTime()+t)):t.toUTCString&&(u=t),"string"==typeof t?(i=r,r=o,o=t):t="; expires="+u.toUTCString()}t||(t=void 0),o=o?"; path="+o:"; path=/",r=r?"; domain="+r:"",i=i?"; secure":"",document.cookie=[e,"=",encodeURIComponent(n),t,o,r,i].join("")}function n(e){if("string"==typeof e){var n=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));if(n)return decodeURIComponent(n[2])}return!1}function t(t){return null!==n(t)&&(e(t,null,-1),!0)}return{get:n,set:e,"delete":t}});define("uri",function(){"use strict";function t(r){for(var e=t.options,a=e.parser[e.strictMode?"strict":"loose"].exec(r),o={},i=14;i--;)o[e.key[i]]=a[i]||"";return o[e.q.name]={},o[e.key[12]].replace(e.q.parser,function(t,r,a){r&&(o[e.q.name][r]=a)}),o}t.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var r=function(r){this.url=r,this.data=t(r)};return r.prototype={getQueryParamValue:function(t){return this.data.queryKey[t]},replaceQueryParam:function(t,r){this.data.queryKey[t]=r.toString()},getKeyValue:function(t){return this.data[t]},toString:function(){var t=this.data.protocol+"://"+this.data.authority+this.data.path;if(this.data.queryKey){t+="?";for(var r in this.data.queryKey)t+=r+"="+this.data.queryKey[r]+"&"}return t}},r});define("tmpl",function(){"use strict";var e=function(n,t){var r=/[^\w\-\.:]/.test(n)?new Function(e.arg+",tmpl","var _e=tmpl.encode"+e.helper+",_s='"+n.replace(e.regexp,e.func)+"';return _s;"):e.cache[n]=e.cache[n]||e(e.load(n));return t?r(t,e):function(n){return r(n,e)}};return e.cache={},e.load=function(e){return document.getElementById(e).innerHTML},e.regexp=/([\s'\\])(?!(?:[^{]|\{(?!%))*%\})|(?:\{%(=|#)([\s\S]+?)%\})|(\{%)|(%\})/g,e.func=function(e,n,t,r,c,u){return n?{"\n":"\\n","\r":"\\r","\t":"\\t"," ":" "}[n]||"\\"+n:t?"="===t?"'+_e("+r+")+'":"'+("+r+"==null?'':"+r+")+'":c?"';":u?"_s+='":void 0},e.encReg=/[<>&"'\x00]/g,e.encMap={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#39;"},e.encode=function(n){return(null==n?"":""+n).replace(e.encReg,function(n){return e.encMap[n]||""})},e.arg="o",e.helper=",print=function(s,e){_s+=e?(s==null?'':s):_e(s);},include=function(s,d){_s+=tmpl(s,d);}",e});define("home/widget/food_goods",function(o){"use strict";function t(o){this.conf=$.extend({$el:null},o),this.init()}return t.prototype={constructor:t,init:function(){this.initEvent(),this.initAddToCart()},initEvent:function(){this.conf.$el.delegate(".goods .goods_item:not(.goods_item_lootall)","hover",$.proxy(this.toggleItemHover,this))},initAddToCart:function(){var o=this;seajs.use(["APP_ROOT/js/flyToCart"],function(t){o.conf.$el.delegate(".goods .goods_intro_add","click.addToCart",function(o){o.preventDefault();var s=$(this),e=s.parents(".goods_item"),i=s.offset().top,n=s.offset().left,d=e.find(".goods_intro_price span").data("price-id"),r=e.find(".goods_intro_avatar").attr("src");return t(d,r,{top:i,left:n}),!1})})},toggleItemHover:function(o){var t=$(o.currentTarget),s=t.closest(".goods");"mouseenter"===o.type?(t.addClass("goods_item_hover"),s.hasClass("goods_noshadow")||t.find(".goods_split").hide().end().prev().find(".goods_split").hide()):(t.removeClass("goods_item_hover"),s.hasClass("goods_noshadow")||(t.hasClass("goods_item_last")?t.prev().find(".goods_split").show():t.find(".goods_split").show().end().prev().find(".goods_split").show()))}},t});"use strict";define("home/widget/food_nav",function(i){"use strict";function e(i){this.conf=$.extend({$el:null},i),this.init()}var n=i("masonry");return e.prototype={constructor:e,init:function(){this.isWide=pageConfig.compatible&&pageConfig.wideVersion,this.masonryRendered={},this.initEvent()},initEvent:function(){var i=this;this.conf.$el.delegate(".food_nav_body .item","mouseenter",function(){var e=$(this),n=e.find(".item_body"),t=e.index(),o=n.find(".food_nav_sub");n.show(),e.addClass("item_hover").find(".item_decoration").show(),"inited"!==i.masonryRendered[t]&&(i.initSubCategory(o,function(){if(t>2){var i=408-n.height();i=Math.max(i,0),n.css("top",i)}n.css("visibility","visible")}),i.masonryRendered[t]="inited")}).delegate(".food_nav_body .item","mouseleave",function(){$(this).removeClass("item_hover").find(".item_body").hide().end().find(".item_decoration").hide()})},initSubCategory:function(i,e){new n({$container:i,itemSelector:".food_nav_sub_item",column:3,itemWidth:200,horizontalMargin:30,verticalMargin:16,onAfterRender:e})}},e});define("home/widget/food_carousel",function(t){"use strict";var e=t("carousel"),o=t("util"),n=function(t){this.conf=$.extend({$el:null},t),this.init()};return n.prototype={init:function(){this.isWide=pageConfig.compatible&&pageConfig.wideVersion,this.width=this.isWide?800:600,this.carousel=new e({$container:$(".food_carousel_main"),itemSelector:".food_carousel_item",activeClass:"food_carousel_item_on",startIndex:0,duration:300,delay:5e3,switchType:"fade",onBeforeSwitch:$.proxy(function(t,e){this.switchNav(e)},this)}),this.initCarouselNav(),this.initEvent()},initEvent:function(){var t=this;this.conf.$el.delegate(".food_carousel_prev","click",$.proxy(o.throttle(this.prev,300),this)).delegate(".food_carousel_next","click",$.proxy(o.throttle(this.next,300),this)).delegate(".food_carousel_nav_btn","mouseenter",function(){var e=$(this).index(),o=t.carousel;o.stop(),e!==o.getCurrent()&&($(this).siblings().removeClass("supermarket_carousel_nav_btn_on").end().addClass("supermarket_carousel_nav_btn_on"),o.switchTo(e))}).delegate(".food_carousel_nav_btn","mouseleave",function(){var e=t.carousel;e.start()})},prev:function(){this.carousel.switchToPrev()},next:function(){this.carousel.switchToNext()},switchNav:function(t){var e=$(this.conf.$el.find(".food_carousel_nav_btn").get(t));e.siblings().removeClass("food_carousel_nav_btn_on").end().addClass("food_carousel_nav_btn_on")},initCarouselNav:function(){for(var t=this.carousel.length,e=[],o=0;o<t;o++){var n=null,i="";o===t-1?n="food_carousel_nav_btn_last":0===o&&(n="food_carousel_nav_btn_on"),n="string"==typeof n?" "+n:"",i='<a href="javascript:void(0)" class="food_carousel_nav_btn'+n+'"></a>',e.push(i)}this.conf.$el.find(".food_carousel_nav").html(e.join("")).find(".food_carousel_nav_btn").css("width",(this.width-t+1)/t)}},n});define("home/widget/food_badge",function(e){"use strict";function n(e){this.conf=$.extend({$el:null,foodBadgeTab:null},e),this.init()}var t=e("tab");return n.prototype={constructor:n,init:function(){this.isInfoPanelShow=!1,this.initEvent(),this.getBadge()},getBadge:function(){var e=this;$.ajax({type:"get",async:!1,url:"//vip.jd.com/medal/getMedalByMedalIdAndPin.html",dataType:"jsonp",data:{mid:62},scriptCharset:"utf-8",crossDomain:!0,success:function(n){if(n&&n.success===!0){var t,a,i,o,s=n.result,d=s.medal.medalFather,f=[];if(s&&s.medalUser){o=s.medalUser.level,t=s.medal.medalChildList;for(var l in t)a=t[l],f[a.level]=a.imgurl;f[0]=d.imgurl,i="//img13.360buyimg.com/vip/"+f[o]}else i="//img13.360buyimg.com/vip/"+d.imgurl;e.conf.$el.find(".food_badge_icon").attr("src",i),e.conf.$el.find(".food_badge_level").hide()}},error:function(e,n){window.console&&console.log("接口"+n)}})},initEvent:function(){this.conf.$el.delegate(".food_badge_title_link","mouseenter",$.proxy(this.showBadgeInfoPanel,this)).delegate(".food_badge_bottom","mouseleave",$.proxy(this.hideBadgeInfoPanel,this))},toggleBadgeInfoPanel:function(){this.isInfoPanelShow||this.showBadgeInfoPanel()},showBadgeInfoPanel:function(){var e=this.conf.$el.find(".food_badge_info");e.length<=0&&(e=this.createBadgeInfoPanel()),e.show(),this.isInfoPanelShow=!0},hideBadgeInfoPanel:function(){var e=this.conf.$el.find(".food_badge_info");e.hide(),this.isInfoPanelShow=!1},createBadgeInfoPanel:function(){var e=[],n=this.conf.foodBadgeTab;if(!n||0===n.length)return $("");e.push('<div class="food_badge_info info">'),e.push('<span class="info_triangle1"></span>'),e.push('<span class="info_triangle2"></span>'),e.push('<div class="info_tab mod_tab">'),e.push('<div class="info_tab_head mod_tab_head j_tab_head clearfix">'),$.each(n,function(t,a){var i=t===n.length-1?" mod_tab_head_item_last":"";e.push('<a href="javascript:;" class="mod_tab_head_item j_tab_head_item'+i+'">'+a.NAME+"</a>")}),e.push('<div class="info_tab_active"></div>'),e.push("</div>"),e.push('<div class="info_tab_content mod_tab_content j_tab_content">'),$.each(n,function(n,t){e.push('<div class="mod_tab_content_item j_tab_content_item">'),t.children&&t.children.length>0&&$.each(t.children,function(n,t){var a=t.NAME;a=a.split("|"),e.push('<p class="info_txt clearfix"><span class="info_txt_title">'+a[0]+'</span><span class="info_txt_content">'+a[1]+"</span></p>")}),e.push("</div>")}),e.push("</div>"),e.push("</div>"),e.push("</div>");var a=$(e.join(""));return this.conf.$el.find(".food_badge_bottom").append(a),this.tab=new t({container:$(".info_tab"),head:$(".info_tab_head"),content:$(".info_tab_content"),startAt:0,hash:!1,activeClass:"mod_tab_head_item_on",hoverToSwitch:!0,onBeforeSwitch:function(){},onAfterSwitch:function(e){var n=a.find(".info_tab_active");n.animate({left:80*e+"px"},200)},onFirstShow:function(){}}),a}},n});"use strict";define("home/widget/food_recommend",function(){function n(n){this.conf=$.extend({$el:null},n),this.init()}return n.prototype={init:function(){}},n});"use strict";"use strict";define("home/widget/food_panic",function(t){"use strict";function i(t){$.extend(this,{endTime:0,$container:null,onSecondPass:function(){},onTimeup:function(){}},t),this.init()}function n(t){this.conf=$.extend({$el:null},t),this.init()}return i.prototype={init:function(){this.curentTime=this.startTime||(new Date).getTime(),this.interval=1e3,this.buildDom(),this.start()},buildDom:function(){var t=this.$container;t.find(".countdown").length<=0&&t.append(this.createDom()),t.find(".countdown").show()},createDom:function(){var t=[];t.push('<div class="countdown clearfix">'),t.push('<div class="countdown_item countdown_hour clearfix">'),t.push('<span class="countdown_hour_ten countdown_item_txt">0</span>'),t.push('<span class="countdown_hour_unit countdown_item_txt">0</span>'),t.push("</div>"),t.push('<div class="countdown_split"></div>'),t.push('<div class="countdown_item countdown_minute clearfix">'),t.push('<span class="countdown_minute_ten countdown_item_txt">0</span>'),t.push('<span class="countdown_minute_unit countdown_item_txt">0</span>'),t.push("</div>"),t.push('<div class="countdown_split"></div>'),t.push('<div class="countdown_item countdown_second clearfix">'),t.push('<span class="countdown_second_ten countdown_item_txt">0</span>'),t.push('<span class="countdown_second_unit countdown_item_txt">0</span>'),t.push("</div>"),t.push("</div>");var i=$(t.join(""));return i},start:function(){if(clearTimeout(this.timerId),this.update())return void this.onTimeup.call(this);var t=(new Date).getTime()-this.curentTime;this.curentTime+=this.interval,this.timerId=setTimeout($.proxy(this.start,this),Math.max(0,this.interval-t)),this.onSecondPass.call(this,this.curentTime)},computeTime:function(t){var i=Math.round(t/1e3),n=Math.floor(i/3600),o=Math.floor(i%3600/60),e=i%3600%60;return i<=0?0:{hour:n,minute:o,second:e}},update:function(){var t=this.endTime-this.curentTime,i=this.$container,n=this.computeTime(t);if(0===n)return!0;var o=n.hour,e=n.minute,s=n.second;i.find(".countdown_hour_ten").text(Math.floor(o/10)),i.find(".countdown_hour_unit").text(o-10*Math.floor(o/10)),i.find(".countdown_minute_ten").text(Math.floor(e/10)),i.find(".countdown_minute_unit").text(e-10*Math.floor(e/10)),i.find(".countdown_second_ten").text(Math.floor(s/10)),i.find(".countdown_second_unit").text(s-10*Math.floor(s/10))},reset:function(t,i){t&&i&&i>t&&(this.startTime=t,this.curentTime=t,this.endTime=i,this.start())}},n.prototype={constructor:n,init:function(){this.isWide=pageConfig.compatible&&pageConfig.wideVersion,this.poolList=["7611","7612","7613"],this.width=this.isWide?1180:980,this.itemLength=this.isWide?6:5,this.getElements(),this.initStyle(),this.initCountdown()},getElements:function(){var t=this.conf.$el;this.$goodsItems=t.find(".food_panic_list .goods_item"),this.$goodsList8=t.find(".food_panic_list.food_panic_8"),this.$goodsList16=t.find(".food_panic_list.food_panic_16"),this.$goodsList20=t.find(".food_panic_list.food_panic_20")},initStyle:function(){var t=this.width/this.itemLength-24;this.$goodsItems.css("width",this.width/this.itemLength).find(".goods_intro_pic").css({width:t+"px",lineHeight:t+"px"})},initCountdown:function(){var t=this,n=this.conf.$el,o=this.changePanicStyle();this.countdown=new i({$container:n.find(".food_panic_time_main"),endTime:o,onTimeup:function(){var i=t.changePanicStyle();this.reset((new Date).getTime(),i)}})},changePanicStyle:function(t){function i(){clearTimeout(this.loadingTimer),l=-88+8*r,r++,r>11&&(r=0),o.find(_).find(".food_panic_time_tip_split_on").css("left",l+"px"),this.loadingTimer=setTimeout(i,300)}var n=t?new Date(t):new Date,o=this.conf.$el,e=n.getHours(),s=0,d=n.getFullYear(),a=n.getMonth(),c=n.getDate(),t=n.getTime(),h="",u=0,_="";e<8?(u=2,h="food_panic_time_tip_20on",s=new Date(d,a,c,8,0,0).getTime(),this.$goodsList20.siblings().hide().end().show()):e>=8&&e<16?(u=0,h="food_panic_time_tip_8on",_=".food_panic_time_tip_split8",s=new Date(d,a,c,16,0,0).getTime(),this.$goodsList8.siblings().hide().end().show()):e>=16&&e<20?(u=1,h="food_panic_time_tip_16on",_=".food_panic_time_tip_split16",s=new Date(d,a,c,20,0,0).getTime(),this.$goodsList16.siblings().hide().end().show()):e>=20&&(u=2,h="food_panic_time_tip_20on",s=new Date(d,a,c+1,8,0,0).getTime(),this.$goodsList20.siblings().hide().end().show());var l=-88;if(clearTimeout(this.loadingTimer),o.find(".food_panic_time_tip_split_on").css("left",l+"px"),_.length>0){var r=0;i.call(this)}return o.find(".food_panic_time_tip").removeClass().addClass("food_panic_time_tip").addClass(h),this.getLootAll(u),s},getLootAll:function(t){var i=this;$.getJSON("//ai.jd.com/index_new.php?callback=?",{app:"Search",action:"getSaleByPoolId",poolId:this.poolList[t],num:6},function(n){if(n&&"object"==typeof n&&"10000"===n.SATAE_CODE){var o=n.DATA,e=$(i.conf.$el.find(".food_panic_list")[t]);for(var s in o){var d=o[s].skuId,a=e.find("li[data-skuid="+d+"]");a.length>0&&0===o[s].remained&&a.addClass("goods_item_lootall")}}})}},n});"use strict";define("home/widget/food_free",function(){function e(e){this.conf=$.extend({$el:null},e),this.init()}return e.prototype={init:function(){$(window).trigger("resize")}},e});"use strict";define("home/widget/food_ad",function(d){"use strict";var o=window.data.food_ad_20?window.data.food_ad_20:{portal_floor_id:20,adData:[]},a=window.data.adSystem,t=a&&a.food_ad_20?a.food_ad_20:o.adData,e=[];e=window.useAd&&t.length>0?t[0]:o.adData[0],(!window.useAd&&o.adData&&o.adData.length>0||window.useAd&&t&&t.length>0)&&d.async(pageConfig.o2JSConfig.pathRule("food_ad_tpl"),function(a){var t=d("tmpl"),n=t(a.dom,o),i=e.promoteText;i=i&&0!==i.length?i:"#fff";var f=$('<div style="background: '+i+'" class="food_ad mod_w food_adtop" id="food_ad_20"></div>');f.append(n).prependTo($("#o-header-2013")).find(".food_ad_link").css("background-color",i),setTimeout(function(){$(window).trigger("scroll.lazydata").trigger("resize")},100)})});define("home/widget/food_category",function(t){"use strict";function e(t){this.conf=$.extend({$el:null},t),this.init()}var o=t("carousel");return e.prototype={constructor:e,init:function(){$(window).trigger("resize"),this.initCarousel(),this.initEvent()},initCarousel:function(){var t=this.conf.$el;this.carousel=new o({$container:t.find(".food_category_carousel_main"),itemSelector:".food_category_carousel_item",itemWidth:200,activeClass:"food_category_carousel_nav_item_active",startIndex:0,duration:300,delay:3e3,switchType:"slide",onAfterSwitch:$.proxy(function(t){this.switchNav(t)},this)});for(var e="",i=0;i<this.carousel.length;i++)e+='<a href="javascript:;" class="food_category_carousel_nav_item'+(0===i?" food_category_carousel_nav_item_active":"")+'"></a>';t.find(".food_category_carousel_nav").append(e),this.$navItems=t.find(".food_category_carousel_nav_item")},initEvent:function(){this.conf.$el.delegate(".food_category_carousel_nav_item","mouseenter",$.proxy(function(t){var e=$(t.target).index();this.carousel.stop().switchTo(e)},this)).delegate(".food_category_carousel_nav_item","mouseleave",$.proxy(function(){this.carousel.stop()},this))},switchNav:function(t){var e=$(this.$navItems.get(t));this.$navItems.removeClass("food_category_carousel_nav_item_active"),e.addClass("food_category_carousel_nav_item_active")}},e});"use strict";define("home/widget/food_elevator",function(t){"use strict";function e(t){this.conf=$.extend({$el:null},t),this.init()}var i=t("util");return e.prototype={init:function(){return this.$elevatorEles=$("[data-elevator]"),this.isWide=pageConfig.compatible&&pageConfig.wideVersion,this.isWide?(this.$win=$(window),this.setStyle(),void this.initEvent()):void this.conf.$el.hide()},setStyle:function(){var t=this.conf.$el,e=document.documentElement.clientWidth,i=1200,o="ie6"===o2.detect.browser().browser;if(!o){var n=parseInt(.5*document.documentElement.clientHeight-.5*t.height(),10);t.css({top:n})}t.css({left:(e-i)/2-t.width()-10}),e<1380&&t.css({left:0})},initEvent:function(){this.conf.$el.delegate(".food_elevator_item_btn","click",$.proxy(this.go,this)),$(window).bind("scroll.elevator",$.proxy(i.throttle(this.onScroll,500),this)).bind("resize.elevator",$.proxy(this.setStyle,this))},go:function(t){t&&t.preventDefault();var e=$(t.currentTarget),i=e.parent(),o=i.index(),n=0;e.hasClass("food_elevator_top")||(n=this.$elevatorEles.eq(o).offset().top),$("body,html").stop(!1,!0).animate({scrollTop:n},300)},onScroll:function(){var t=this.$win,e=t.scrollTop(),i=this.conf.$el,o=-1,n=t.height()/3;if(e>=100&&e+n>=this.$elevatorEles.eq(0).offset().top){i.fadeIn();var s=this.$elevatorEles;s.each(function(t){var i=$(this),s=i.offset().top;i.outerHeight();e+n>=s&&(o+=1)}),i.find(".food_elevator_item_btn").removeClass("food_elevator_item_btn_active").eq(o).addClass("food_elevator_item_btn_active")}else i.fadeOut()}},e});define("home/widget/food_pop",function(o,t,i){"use strict";var n=function(o){this.conf=$.extend({$el:null},o),this.init()};return n.prototype={init:function(){this.$popBd=this.conf.$el.find(".food_pop_bd"),this.loadImg()},loadImg:function(){var o=this,t=o.$popBd.find(".food_pop_lk img"),i=t.attr("data-lazy-img2");t.load(function(){o.$popBd.addClass("animate"),o.initEvent()}),t.attr("src",i)},initEvent:function(){var o=this;this.conf.$el.delegate(".food_pop_close","click",function(){o.$popBd.removeClass("animate")}),this.setTimeoutClose()},setTimeoutClose:function(){var o=this.conf.$el;setTimeout(function(){o.find(".food_pop_close").click()},3800)}},n});window.tplVersion={food_ad_tpl:"37c3cace3f13c7bb",food_banner_tpl:"a609534569982f36",food_big_tpl:"09956dab1f1da6b3",food_category_tpl:"2a8e94d2a6301428",food_free_tpl:"82706a389ee148e9",food_lesson_tpl:"5d7307426efd7172",food_new_tpl:"719561a14f371c57",food_panic_tpl:"fe09a83c542b07dd",food_pop_tpl:"7ed7bcc243d8fae1",foodthree_banner_tpl:"cedce0292fed5acb",foodthree_bigrank_tpl:"cc2aaaadba0bda6d",foodthree_category_tpl:"dfbee311f1af1269"},define("home/page/index",function(e){"use strict";function o(){var e=Math.floor(100*Math.random());return d.set(n,e,18e5),e}function a(){return pageConfig.toolbar=!0,!$("#J-global-toolbar").length&&void setTimeout(function(){$("body").append('<div id="J-global-toolbar"></div>');var e={pType:"food"};seajs.use(["//static.360buyimg.com/devfe/toolbar/1.0.0/js/main.js"],function(o){$('<style type="text/css">.jdm-toolbar .jdm-toolbar-footer .jdm-tbar-tab-survey .tab-ico {display: none;_display:none;}.jdm-toolbar .jdm-toolbar-footer .jdm-tbar-tab-survey .tab-text {left: 0px;width: 35px;height:30px;padding:2px 0 3px;line-height: 15px;background: #c81623;_display:block;</style>').appendTo($("head:eq(0)"));var a={top:{anchor:"#"}};pageConfig.surveyLink&&(a.feedback={href:pageConfig.surveyLink}),pageConfig.awardsLink&&pageConfig.awardsTitle&&(a.survey={href:pageConfig.awardsLink,title:pageConfig.awardsTitle}),e.links=a,e.bars={jimi:{iframe:"//jimi.jd.com/index.action?source=jdhome"}},pageConfig.toolbar=new o(e)})},1e3)}var d=e("cookie"),t=e("uri"),n="channel_food_ad_rnd",i=parseInt(d.get(n),10)||o(),r=new t(window.location.href),f=r.getQueryParamValue("ad_switch");"string"==typeof f?"ad"===f?window.useAd=!0:"cms"===f&&(window.useAd=!1):i>=50?window.useAd=!0:window.useAd=!1,a()}),seajs.use("home/page/index");